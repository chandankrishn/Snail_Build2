System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var e,r;t({ACTION:void 0,LIGHT:void 0}),n._RF.push({},"019652+uLJGR6uLBnWwA40q","Constants",void 0),function(t){t[t.Forward=0]="Forward",t[t.Backward=1]="Backward",t[t.still=2]="still"}(e||(e=t("ACTION",{}))),function(t){t[t.Red=0]="Red",t[t.Green=1]="Green"}(r||(r=t("LIGHT",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/LightControl.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(t){"use strict";var e,n,i,r,a,o,s,l,c,h,u,g,f,d;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.CCFloat,r=t.SpriteFrame,a=t.tween,o=t.Component},function(t){s=t.LIGHT},function(t){l=t.applyDecoratedDescriptor,c=t.inheritsLoose,h=t.initializerDefineProperty,u=t.assertThisInitialized,g=t.defineProperty},function(t){f=t.gameManager},function(t){d=t.setSpriteFrame}],execute:function(){var L,p,y,R,b,m,C,M,v,G,S;e._RF.push({},"12f4dC1HWxOjJtI/8f9RfaT","LightControl",void 0);var I=n.ccclass,w=n.property;t("LightControl",(L=I("LightControl"),p=w({type:i}),y=w({type:i}),R=w({type:r}),b=w({type:r}),L((M=l((C=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,h(u(e),"LightRangeMin",M,u(e)),h(u(e),"LightRangeMax",v,u(e)),h(u(e),"redLight",G,u(e)),h(u(e),"greenLight",S,u(e)),g(u(e),"schedulerControl",!0),e}c(e,t);var n=e.prototype;return n.startLightsFunctionality=function(){},n.stopLight=function(){var t=this;this.unschedule(this.stopLight),a(this.node).delay(.2).call((function(){t.setLight(s.Red)})).delay(.1).call((function(){t.setLight(s.Green)})).delay(.2).call((function(){t.setLight(s.Red)})).delay(.1).call((function(){t.setLight(s.Green)})).delay(.2).call((function(){t.setLight(s.Red)})).delay(.1).call((function(){t.setLight(s.Green)})).delay(.1).call((function(){t.setLight(s.Red),f.getInstance().setLightStatus(s.Red)})).delay(2).call((function(){t.startSceduler(),t.schedulerControl=!0,f.getInstance().setLightStatus(s.Green)})).start()},n.setLight=function(t){switch(t){case s.Red:d(this.node,this.redLight);break;case s.Green:d(this.node,this.greenLight)}},n.startSceduler=function(){if(f.getInstance().getGamePlayActive()){f.getInstance().setLightStatus(s.Green),this.setLight(s.Green);var t=Math.floor(Math.random()*(this.LightRangeMax-this.LightRangeMin+1)+this.LightRangeMin);this.schedule(this.stopLight,t)}},n.start=function(){},n.update=function(t){f.getInstance().getGamePlayActive()&&this.schedulerControl&&(this.schedulerControl=!1,this.startSceduler())},e}(o)).prototype,"LightRangeMin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=l(C.prototype,"LightRangeMax",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),G=l(C.prototype,"redLight",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=l(C.prototype,"greenLight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));e._RF.pop()}}}));

System.register("chunks:///_virtual/Berryfall.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(t){"use strict";var e,r,i,o,n,a,s,l,y,h,c,p,d,u,f,b;return{setters:[function(t){e=t.cclegacy,r=t._decorator,i=t.Prefab,o=t.tween,n=t.Vec3,a=t.Component},function(t){s=t.ACTION},function(t){l=t.applyDecoratedDescriptor,y=t.inheritsLoose,h=t.initializerDefineProperty,c=t.assertThisInitialized,p=t.defineProperty},function(t){d=t.gameManager},function(t){u=t.MyNode,f=t.nodeWidth,b=t.collisionCheck}],execute:function(){var N,m,g,P,v,B,S;e._RF.push({},"3a545+hs+VGk6qWpMLZnEge","Berryfall",void 0);var F=r.ccclass,w=r.property;t("Berryfall",(N=F("Berryfall"),m=w({type:i}),g=w({type:i}),N((B=l((v=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,h(c(e),"berryPrefab",B,c(e)),h(c(e),"antPrefab",S,c(e)),p(c(e),"brerryNode",null),p(c(e),"antNode",null),p(c(e),"portalStartXpos",0),p(c(e),"portalStartYpos",0),p(c(e),"berryFramePosition",[1434]),p(c(e),"berryXposition",[-2687.5,2174]),p(c(e),"berryYposition",[175,261]),p(c(e),"antLaunched",!1),p(c(e),"gamePlayNode",null),p(c(e),"snailNode",null),p(c(e),"berryFallen",!1),e}y(e,t);var r=e.prototype;return r.makeBerryFall=function(){var t=this;o(this.brerryNode.myNode).to(.2,{angle:20}).to(.2,{angle:0}).to(.2,{angle:-20}).to(.2,{angle:0}).to(.2,{angle:20}).to(.2,{angle:0}).to(.5,{position:new n(this.berryXposition[0],this.berryYposition[0]-480,0)}).call((function(){t.portalAnimation()})).start()},r.portalAnimation=function(){this.placeAntPortal(),this.antNode.myScript.setMoveDirection(s.Backward),this.berryFallen=!0},r.placeBerry=function(){this.node.setPosition(this.berryFramePosition[0],0,1),this.brerryNode=new u(this.berryPrefab,this.node.getChildByName("berry")),this.brerryNode.myNode.setPosition(this.berryXposition[0],this.berryYposition[0],0)},r.placeAntPortal=function(){var t=this.gamePlayNode.position.x-this.node.position.x;this.portalStartXpos=f(this.node)+t,this.portalStartYpos=-330,this.antNode=new u(this.antPrefab,this.node,"AntMove"),this.antNode.myNode.setPosition(this.portalStartXpos,this.portalStartYpos,1)},r.start=function(){this.gamePlayNode=this.node.parent.getChildByName("gamePlay"),this.snailNode=this.gamePlayNode.getChildByName("Snail").getChildByName("colider"),this.placeBerry()},r.update=function(t){if(this.node.position.x<this.gamePlayNode.position.x&&!this.antLaunched)this.antLaunched=!0,this.makeBerryFall();else if(this.antLaunched&&this.berryFallen){var e=this.antNode.myNode;if(b(e,this.brerryNode.myNode))this.antNode.myScript.setMoveDirection(s.Forward),this.brerryNode.myNode.setScale(0,0,0);b(e,this.snailNode)&&d.getInstance().setGameOver(!0)}},e}(a)).prototype,"berryPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=l(v.prototype,"antPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=v))||P));e._RF.pop()}}}));

System.register("chunks:///_virtual/HudLayer.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,c,u,l,h,m,g,p,d;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Node,a=e.Label,o=e.tween,r=e.Vec3,s=e.Widget,c=e.director,u=e.Component},function(e){l=e.applyDecoratedDescriptor,h=e.inheritsLoose,m=e.initializerDefineProperty,g=e.assertThisInitialized,p=e.defineProperty},function(e){d=e.gameManager}],execute:function(){var v,y,f,N,b,T,P,w,S,B,C,A,L;t._RF.push({},"428095gOkxD9ZZgvYhBzqgU","HudLayer",void 0);var M=i.ccclass,z=i.property;e("HudLayer",(v=M("HudLayer"),y=z({type:n}),f=z({type:n}),N=z({type:n}),b=z({type:n}),T=z({type:n}),v((S=l((w=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,m(g(t),"timeLabel",S,g(t)),m(g(t),"playButton",B,g(t)),m(g(t),"pauseButton",C,g(t)),m(g(t),"touchRestrict",A,g(t)),m(g(t),"gameoverNode",L,g(t)),p(g(t),"cameraNode",null),p(g(t),"curTimeSec",30),p(g(t),"curTimeMin",2),p(g(t),"buttonActive",!1),p(g(t),"snailNode",null),p(g(t),"gamePlayNode",null),t}h(t,e);var i=t.prototype;return i.start=function(){this.gameoverNode.active=!1,this.gamePlayNode=this.node.parent.getChildByName("gamePlay"),this.snailNode=this.gamePlayNode.getChildByName("Snail"),this.timeLabel.getComponent(a).string="0"+this.curTimeMin+" : "+this.curTimeSec,this.touchRestrict.active=!0,this.cameraNode=this.node.parent.parent.getChildByName("Camera")},i.timeUpdate=function(){this.curTimeSec=this.curTimeSec-1,this.curTimeSec<=0&&this.curTimeMin>0&&(this.curTimeSec=60,this.curTimeMin-=1),this.curTimeSec<=9?this.timeLabel.getComponent(a).string="0"+this.curTimeMin+" : 0"+this.curTimeSec:this.timeLabel.getComponent(a).string="0"+this.curTimeMin+" : "+this.curTimeSec,this.curTimeMin<=0&&this.curTimeSec<=0&&this.gameOver()},i.playButtonClick=function(){var e=this;this.buttonActive||(this.buttonActive=!0,d.getInstance().getGamePlayActive()||(this.schedule(this.timeUpdate,1),this.gameoverNode.active&&(this.curTimeMin=2,this.curTimeSec=30,this.timeLabel.getComponent(a).string="0"+this.curTimeMin+" : "+this.curTimeSec,o(this.gameoverNode).to(.5,{position:new r(0,1e3,0)}).delay(.5).call((function(){e.gameoverNode.active=!1})).start(),this.gamePlayNode.setPosition(0,this.gamePlayNode.position.y,this.gamePlayNode.position.z),this.snailNode.getComponent(s).left=0,this.snailNode.setScale(1,1,1))),d.getInstance().setGameOver(!1),d.getInstance().setGamePlayActive(!0),this.touchRestrict.active=!1,c.resume(),o(this.playButton).to(.1,{scale:new r(.55,.55,1)}).to(.3,{scale:new r(0,0,0)}).call((function(){e.buttonActive=!1})).start())},i.pauseButtonClick=function(){var e=this;this.buttonActive||(this.buttonActive=!0,this.touchRestrict.active=!0,d.getInstance().setGamePlayActive(!1),o(this.playButton).to(.3,{scale:new r(.5,.5,1)}).delay(.3).call((function(){c.pause(),e.buttonActive=!1})).start())},i.gameOver=function(){this.gameoverNode.active=!0,this.gameoverNode.getComponent(a).string="Game Over",this.unschedule(this.timeUpdate),this.touchRestrict.active=!0,d.getInstance().setGamePlayActive(!1),o(this.gameoverNode).to(.5,{position:new r(0,250,0)}).start()},i.gameWon=function(){this.gameoverNode.active=!0,this.unschedule(this.timeUpdate),this.touchRestrict.active=!0,d.getInstance().setGamePlayActive(!1),this.gameoverNode.getComponent(a).string="You won!",o(this.gameoverNode).to(.5,{position:new r(0,250,0)}).start(),o(this.playButton).to(.1,{scale:new r(.55,.55,1)}).start()},i.update=function(e){this.cameraNode&&this.node.setPosition(this.cameraNode.position),!this.gameoverNode.active&&d.getInstance().getGameOver()&&this.gameOver()},t}(u)).prototype,"timeLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=l(w.prototype,"playButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=l(w.prototype,"pauseButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=l(w.prototype,"touchRestrict",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=l(w.prototype,"gameoverNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=w))||P));t._RF.pop()}}}));

System.register("chunks:///_virtual/progressController.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var r,s,t,i,o,n,c,l,u,p,a,h;return{setters:[function(e){r=e.cclegacy,s=e._decorator,t=e.CCFloat,i=e.tween,o=e.Vec3,n=e.ProgressBar,c=e.Component},function(e){l=e.applyDecoratedDescriptor,u=e.inheritsLoose,p=e.initializerDefineProperty,a=e.assertThisInitialized,h=e.defineProperty}],execute:function(){var f,g,d,m,y,P,b;r._RF.push({},"51dfaiURs9OALO9ScFhe6Lc","progressController",void 0);var C=s.ccclass,D=s.property;e("progressController",(f=C("progressController"),g=D({type:t}),d=D({type:t}),f((P=l((y=function(e){function r(){for(var r,s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return r=e.call.apply(e,[this].concat(t))||this,p(a(r),"fillDuration",P,a(r)),p(a(r),"emptyDuration",b,a(r)),h(a(r),"schedulerSpeed",.1),h(a(r),"progressComp",null),h(a(r),"curProgress",0),h(a(r),"tankFull",!1),h(a(r),"boosterMode",!1),h(a(r),"scaleAnimation",null),h(a(r),"difference",0),h(a(r),"boosterRunning",!1),r}u(r,e);var s=r.prototype;return s.start=function(){this.scaleAnimation=i(this.node).repeatForever(i().by(.2,{scale:new o(.25,.25,.25)}).by(.2,{scale:new o(-.25,-.25,-.25)})),this.calculateDifference(this.fillDuration),this.progressComp=this.node.getComponent(n),this.progressComp.progress=this.curProgress,this.schedule(this.updateProgress,this.schedulerSpeed)},s.calculateDifference=function(e){this.difference=1/(10*e)},s.updateProgress=function(){this.progressComp.progress<1?this.progressComp.progress=this.curProgress+=this.difference:(this.unschedule(this.updateProgress),this.calculateDifference(this.emptyDuration),this.scaleAnimation.start(),this.boosterMode=!0)},s.scheduleEmptyProgress=function(){this.boosterRunning=!0,this.schedule(this.emptyProgress,this.schedulerSpeed)},s.emptyProgress=function(){this.progressComp.progress>0?this.progressComp.progress=this.curProgress-=this.difference:(this.scaleAnimation.stop(),this.unschedule(this.emptyProgress),this.boosterMode=!1,this.boosterRunning=!1,this.calculateDifference(this.fillDuration),this.schedule(this.updateProgress,this.schedulerSpeed))},r}(c)).prototype,"fillDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=l(y.prototype,"emptyDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/rockRotation.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Utility.ts"],(function(t){"use strict";var o,e,i,n,r,a,s,l,c,p,h,d,f;return{setters:[function(t){o=t.cclegacy,e=t._decorator,i=t.CCFloat,n=t.tween,r=t.Vec3,a=t.Component},function(t){s=t.applyDecoratedDescriptor,l=t.inheritsLoose,c=t.initializerDefineProperty,p=t.assertThisInitialized,h=t.defineProperty},function(t){d=t.nodeWidth,f=t.nodeHeight}],execute:function(){var u,g,y,v,R,A,C;o._RF.push({},"5cc991q8PVPsoyB+gESXx5q","rockRotation",void 0);var k=e.ccclass,S=e.property;t("RockRotation",(u=k("RockRotation"),g=S({type:i}),y=S({type:i}),u((A=s((R=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return o=t.call.apply(t,[this].concat(i))||this,c(p(o),"rotationSpeed",A,p(o)),c(p(o),"moveAfterCollision",C,p(o)),h(p(o),"startRotation",1),h(p(o),"rockRotation",!0),h(p(o),"rotationAfterCollison",0),h(p(o),"garvityAfterFall",!1),o}l(o,t);var e=o.prototype;return e.thowRock=function(t,o){var e=this;o-=15,n(this.node).to(4.5,{position:new r(t,o,1)}).call((function(){e.rockRotation=!1;var t=e.node.angle;(t%=360)<90?e.rotationAfterCollison=0:t>90&&t<=270?e.rotationAfterCollison=180:t>270&&t<=360&&(e.rotationAfterCollison=360),e.node.angle=t,e.rotationSpeed=2,e.garvityAfterFall=!0})).to(.5,{position:new r(t-this.moveAfterCollision,o,1)}).start()},e.start=function(){this.node.setPosition(d(this.node.parent)+d(this.node),f(this.node.parent)+f(this.node),1)},e.update=function(t){this.rockRotation&&(this.node.angle=this.startRotation+=this.rotationSpeed),this.garvityAfterFall&&this.rotationAfterCollison!=this.node.angle&&(this.node.angle>this.rotationAfterCollison?this.node.angle=this.node.angle-=this.rotationSpeed:this.node.angle=this.node.angle+=this.rotationSpeed)},o}(a)).prototype,"rotationSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),C=s(R.prototype,"moveAfterCollision",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),v=R))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/obstacleController.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(t){"use strict";var e,o,i,n,r,s,a,l,c,h,d,u,p,g,y,m;return{setters:[function(t){e=t.cclegacy,o=t._decorator,i=t.Prefab,n=t.Component},function(t){r=t.LIGHT},function(t){s=t.applyDecoratedDescriptor,a=t.inheritsLoose,l=t.initializerDefineProperty,c=t.assertThisInitialized,h=t.defineProperty},function(t){d=t.gameManager},function(t){u=t.MyNode,p=t.nodeWidth,g=t.checkObstaclesOnLight,y=t.getScript,m=t.collisionCheck}],execute:function(){var P,f,k,N,C;e._RF.push({},"6c19dF0QP9KbKFuJc/g74ys","obstacleController",void 0);var b=o.ccclass,v=o.property;t("ObstacleController",(P=b("ObstacleController"),f=v({type:i}),P((C=s((N=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,l(c(e),"rockPrefab",C,c(e)),h(c(e),"rockNode",null),h(c(e),"startPoint",0),h(c(e),"endPoint",0),h(c(e),"RandomXPos",0),h(c(e),"screenWidht",0),h(c(e),"rockShooted",!1),h(c(e),"gamePlayNode",null),h(c(e),"snailNode",null),h(c(e),"collisionCtrl",!0),h(c(e),"rockCollision",!1),h(c(e),"colider",null),e}a(e,t);var o=e.prototype;return o.setStartEndpoint=function(){this.endPoint=d.getInstance().getbackgroundLimit()-this.screenWidht,this.startPoint=2394,this.RandomXPos=Math.floor(Math.random()*(this.endPoint-this.startPoint+1)+this.startPoint),this.node.setPosition(this.RandomXPos,0,1)},o.start=function(){this.gamePlayNode=this.node.parent.getChildByName("gamePlay"),this.snailNode=this.gamePlayNode.getChildByName("Snail").getChildByName("colider"),this.rockNode=new u(this.rockPrefab,this.node,"RockRotation"),this.colider=this.rockNode.myNode.getChildByName("Colider")},o.update=function(){if(this.screenWidht!=p(this.node)&&(this.screenWidht=p(this.node),this.setStartEndpoint()),!this.rockShooted&&this.RandomXPos<=d.getInstance().getGameplayXpos()&&g(r.Green)){this.rockShooted=!0;var t=this.rockNode.myScript,e=y(this.gamePlayNode,"GamePlay");t.thowRock(0,e.heightTillLand,0)}var o=this.rockNode.myScript;this.rockCollision=o.rockRotation,m(this.snailNode,this.colider)&&this.rockCollision&&d.getInstance().setGameOver(!0)},e}(n)).prototype,"rockPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=N))||k));e._RF.pop()}}}));

System.register("chunks:///_virtual/gamePlay.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,h,c,l,u,d,p,m,g,y,N,f,P,v;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.CCFloat,o=t.Prefab,s=t.Vec3,a=t.input,r=t.Input,h=t.KeyCode,c=t.Component},function(t){l=t.ACTION,u=t.LIGHT},function(t){d=t.applyDecoratedDescriptor,p=t.inheritsLoose,m=t.initializerDefineProperty,g=t.assertThisInitialized,y=t.defineProperty},function(t){N=t.gameManager},function(t){f=t.MyNode,P=t.nodeHeight,v=t.nodeWidth}],execute:function(){var b,w,T,k,I,M,S,G,x,J,L,E,R;e._RF.push({},"6edbfyP1cFCqZBlRfhl4bc0","gamePlay",void 0);var _=i.ccclass,A=i.property;t("GamePlay",(b=_("GamePlay"),w=A({type:n}),T=A({type:n}),k=A({type:n}),I=A({type:o}),M=A({type:o}),b((x=d((G=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,m(g(e),"moveNumber",x,g(e)),m(g(e),"moveTime",J,g(e)),m(g(e),"BoostPercentage",L,g(e)),m(g(e),"snailPrefab",E,g(e)),m(g(e),"HawkPrefab",R,g(e)),y(g(e),"startJump",!1),y(g(e),"curJumpTime",0),y(g(e),"curSpeed",0),y(g(e),"curPos",new s),y(g(e),"deltaPos",new s(0,0,0)),y(g(e),"targetPos",new s),y(g(e),"isMoving",!1),y(g(e),"hawkNode",null),y(g(e),"snailNode",null),y(g(e),"progressBar",null),y(g(e),"heightTillLand",202),y(g(e),"boosterMode",!1),y(g(e),"targetNode",null),e}p(e,t);var i=e.prototype;return i.onLoad=function(){this.instanciateNodes(),a.on(r.EventType.KEY_PRESSING,this.onKeyDown,this),a.on(r.EventType.KEY_DOWN,this.onKeyDown,this),a.on(r.EventType.KEY_UP,this.keyUp,this),N.getInstance().setGameplayXpos(this.node.position.x)},i.keyUp=function(){this.startJump=!1,this.isMoving=!1},i.onKeyDown=function(t){var e;if(N.getInstance().getGamePlayActive())switch(e=this.moveNumber,t.keyCode){case h.ARROW_LEFT:this.doAction(l.Backward,-e);break;case h.ARROW_RIGHT:this.doAction(l.Forward,e)}},i.instanciateNodes=function(){this.snailNode=new f(this.snailPrefab,this.node,"SnailMovement"),this.hawkNode=new f(this.HawkPrefab,this.node,"HawkMove"),this.heightTillLand=-(P(this.node)-this.heightTillLand),this.snailNode.myNode.setPosition(this.snailNode.myNode.position.x,this.heightTillLand,1),N.getInstance().setSnailNode(this.snailNode),this.hawkNode.myScript.snailPosition(this.snailNode.myNode)},i.setSnailmove=function(t){this.snailNode.myNode;return this.snailNode.myScript.setMoveDirection(t,!0),!0},i.setTargetNode=function(t){var e=this.snailNode.myNode;e.position.x<=0&&this.node.position.x<=0||this.node.position.x<=0&&l.Backward==t?this.targetNode=this.snailNode.myNode:this.node.position.x+this.moveNumber<N.getInstance().getbackgroundLimit()||e.position.x<0&&t==l.Backward?this.targetNode=this.node:this.targetNode=this.snailNode.myNode},i.doAction=function(t,e){this.isMoving||(this.setTargetNode(t),this.snailNode.myScript.setMoveDirection(t,!1),this.startJump=!0,this.curJumpTime=0,this.curSpeed=e/this.moveTime,this.targetNode.getPosition(this.curPos),s.add(this.targetPos,this.curPos,new s(e,0,0)),this.isMoving=!0)},i.onOnceJumpEnd=function(){N.getInstance().setGameplayXpos(this.node.position.x),this.isMoving=!1},i.update=function(t){this.startJump&&(this.curJumpTime+=t,this.curJumpTime>this.moveTime?(this.targetNode.setPosition(this.targetPos),this.startJump=!1,this.onOnceJumpEnd()):(this.targetNode.getPosition(this.curPos),this.deltaPos.x=this.curSpeed*t,s.add(this.curPos,this.curPos,this.deltaPos),this.targetNode.setPosition(this.curPos))),this.snailNode.myNode.position.x>v(this.node)&&!N.getInstance().getGameWon()&&N.getInstance().setGameWon(!0),N.getInstance().getLightStatus()==u.Red&&N.getInstance().getGamePlayActive()&&this.isMoving&&N.getInstance().setGameOver(!0)},e}(c)).prototype,"moveNumber",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),J=d(G.prototype,"moveTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),L=d(G.prototype,"BoostPercentage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),E=d(G.prototype,"snailPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=d(G.prototype,"HawkPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=G))||S));e._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.defineProperty}],execute:function(){e._RF.push({},"81b17qoAzxNHIoFzc5zRzMu","gameManager",void 0);var i=t("gameManager",function(){function t(){if(n(this,"_gamePlayActive",!1),n(this,"_lightStatus",void 0),n(this,"_backGroundLimit",200),n(this,"_gameplayXpos",0),n(this,"_gameOver",!1),n(this,"_gameWon",!1),n(this,"_boosterModeActive",!1),n(this,"_snailNode",null),n(this,"_cameraTargetPos",null),t._instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");t._instance=this}var e=t.prototype;return e.setGameOver=function(t){this._gameOver=t},e.getGameOver=function(){return this._gameOver},e.setGameWon=function(t){this._gameWon=t},e.getGameWon=function(){return this._gameWon},e.setCameraTraget=function(t){this._cameraTargetPos=t},e.getCameraTarget=function(){return this._cameraTargetPos},e.setSnailNode=function(t){this._snailNode=t},e.getSnailNode=function(){return this._snailNode},e.setBoosterModeActive=function(t){this._boosterModeActive=t},e.getBoosterModeActive=function(){return this._boosterModeActive},e.setGameplayXpos=function(t){this._gameplayXpos=t},e.getGameplayXpos=function(){return this._gameplayXpos},e.setbackgoudLimit=function(t){this._backGroundLimit=t},e.getbackgroundLimit=function(){return this._backGroundLimit},e.getLightStatus=function(){return this._lightStatus},e.setLightStatus=function(t){this._lightStatus=t},t.getInstance=function(){return t._instance},e.setGamePlayActive=function(t){this._gamePlayActive=t},e.getGamePlayActive=function(){return this._gamePlayActive},t}());n(i,"_instance",new i),e._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(e){"use strict";var t,r,n,i,a,o,l,c,s,u,p,g;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.Node,i=e.Vec3,a=e.UITransform,o=e.Component},function(e){l=e.applyDecoratedDescriptor,c=e.inheritsLoose,s=e.initializerDefineProperty,u=e.assertThisInitialized,p=e.defineProperty},function(e){g=e.gameManager}],execute:function(){var m,d,h,f,y,C,b;t._RF.push({},"89771H6PcFFpL4dgPptrQQM","CameraController",void 0);var v=r.ccclass,L=r.property;e("CameraController",(m=v("CameraController"),d=L(n),h=L(n),m((C=l((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,s(u(t),"snail",C,u(t)),s(u(t),"background",b,u(t)),p(u(t),"cameraLimit",void 0),t}return c(t,e),t.prototype.update=function(e){var t=g.getInstance().getCameraTarget(),r=this.node.position,n=new i;i.lerp(n,t,r,.9),this.cameraLimit=this.background.getComponent(a).width-this.snail.getComponent(a).width,g.getInstance().setbackgoudLimit(this.cameraLimit),this.node.setPosition(n.x,n.y,10)},t}(o)).prototype,"snail",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=l(y.prototype,"background",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/gameIntro.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,c,p,u,l,g,h,m;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Node,o=t.tween,r=t.Vec3,a=t.UITransform,s=t.Component},function(t){c=t.applyDecoratedDescriptor,p=t.inheritsLoose,u=t.initializerDefineProperty,l=t.assertThisInitialized,g=t.defineProperty},function(t){h=t.gameManager},function(t){m=t.nodeWidth}],execute:function(){var f,d,y,b,v,I,C,W,B;e._RF.push({},"97c2apSmCFEB5TYHCKicU7i","gameIntro",void 0);var U=n.ccclass,k=n.property;t("gameIntro",(f=U("gameIntro"),d=k(i),y=k(i),b=k(i),f((C=c((I=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,u(l(e),"popUp",C,l(e)),u(l(e),"instruction",W,l(e)),u(l(e),"Won",B,l(e)),g(l(e),"skipButton",null),e}p(e,t);var n=e.prototype;return n.start=function(){this.Won.active=!1,this.skipButton=this.node.getChildByName("Button")},n.gameWon=function(){this.instruction.active=!1,this.Won.active=!0,h.getInstance().setCameraTraget(this.node.position),this.skipButton.active=!1,o(this.popUp).to(.3,{position:new r(0,225,0)}).delay(.2).start()},n.skipClicked=function(){var t=this.popUp.getComponent(a).height,e=this.node.parent.getChildByName("gamePlay");o(this.popUp).by(.3,{position:new r(0,t,0)}).delay(.2).call((function(){h.getInstance().setCameraTraget(e.position)})).start()},n.update=function(){h.getInstance().getGameWon()&&(this.node.setPosition(h.getInstance().getbackgroundLimit()+m(this.node),0,1),h.getInstance().setGameWon(!1),this.gameWon())},e}(s)).prototype,"popUp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=c(I.prototype,"instruction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=c(I.prototype,"Won",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=I))||v));e._RF.pop()}}}));

System.register("chunks:///_virtual/antMove.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(t){"use strict";var e,i,s,o,r,n,a,u,c,h,p,m;return{setters:[function(t){e=t.cclegacy,i=t._decorator,s=t.CCFloat,o=t.Vec3,r=t.Component},function(t){n=t.ACTION},function(t){a=t.applyDecoratedDescriptor,u=t.inheritsLoose,c=t.initializerDefineProperty,h=t.assertThisInitialized,p=t.defineProperty},function(t){m=t.gameManager}],execute:function(){var l,d,v,g,P,f,b;e._RF.push({},"b3fb6rojE9CC5TtQrI+cXSW","antMove",void 0);var y=i.ccclass,M=i.property;t("AntMove",(l=y("AntMove"),d=M({type:s}),v=M({type:s}),l((f=a((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,c(h(e),"moveNumber",f,h(e)),c(h(e),"moveTime",b,h(e)),p(h(e),"startJump",!1),p(h(e),"jumpStep",0),p(h(e),"curJumpTime",0),p(h(e),"curSpeed",0),p(h(e),"curPos",new o),p(h(e),"deltaPos",new o(0,0,0)),p(h(e),"targetPos",new o),p(h(e),"isMoving",!1),e}u(e,t);var i=e.prototype;return i.setMoveDirection=function(t){switch(this.startJump=!1,this.isMoving=!1,t){case n.Forward:this.node.setScale(.15,.15,1),this.jumpStep=this.moveNumber;break;case n.Backward:this.node.setScale(-.15,.15,1),this.jumpStep=-this.moveNumber}this.doAction()},i.doAction=function(){this.isMoving||(this.startJump=!0,this.curJumpTime=0,this.curSpeed=this.jumpStep/this.moveTime,this.node.getPosition(this.curPos),o.add(this.targetPos,this.curPos,new o(this.jumpStep,0,0)),this.isMoving=!0)},i.update=function(t){this.startJump&&m.getInstance().getGamePlayActive()&&(this.curJumpTime+=t,this.curJumpTime>this.moveTime?(this.node.setPosition(this.targetPos),this.startJump=!1,this.isMoving=!1,this.doAction()):(this.node.getPosition(this.curPos),this.deltaPos.x=this.curSpeed*t,o.add(this.curPos,this.curPos,this.deltaPos),this.node.setPosition(this.curPos)))},e}(r)).prototype,"moveNumber",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),b=a(P.prototype,"moveTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=P))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts"],(function(t){"use strict";var n,e,o,i,r,c,s,u,a,l;return{setters:[function(t){n=t.cclegacy,e=t._decorator,o=t.tween,i=t.Vec3,r=t.UITransform,c=t.Sprite,s=t.Intersection2D,u=t.instantiate},function(t){a=t.defineProperty},function(t){l=t.gameManager}],execute:function(){t({checkObstaclesOnLight:function(t){if(l.getInstance().getLightStatus()==t&&l.getInstance().getGamePlayActive()&&!l.getInstance().getGameOver())return!0;return!1},collisionCheck:function(t,n){if(null!=t&&null!=n){var e,o;return s.rectRect(null===(e=t.getComponent(r))||void 0===e?void 0:e.getBoundingBoxToWorld(),null===(o=n.getComponent(r))||void 0===o?void 0:o.getBoundingBoxToWorld())}},getScript:function(t,n){if(n){return t.getComponent(n)}},getXposition:function(t){return t.position.x},getYposition:function(t){return t.position.y},nodeHeight:function(t){return t.getComponent(r).height/2},nodeWidth:function(t){return t.getComponent(r).width/2},popClose:function(t,n){o(t).to(n,{scale:new i(0,0,0)}).start()},popOpen:function(t,n){o(t).to(n,{scale:new i(1,1,1)}).start()},setSpriteFrame:function(t,n){t.getComponent(c).spriteFrame=n}}),n._RF.push({},"c111bT7vdNF3qFg+0lI2dep","Utility",void 0);e.ccclass,e.property;t("snail",function(){function t(){a(this,"snail",void 0)}return t.prototype.setSnail=function(t){this.snail=t},t}()),t("MyNode",(function(t,n,e){void 0===e&&(e=null),a(this,"myNode",void 0),a(this,"myScript",void 0),this.myNode=u(t),e&&(this.myScript=this.myNode.getComponent(e)),n&&n.addChild(this.myNode)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/SetWidth.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,o,r,i;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.UITransform,r=t.Component},function(t){i=t.inheritsLoose}],execute:function(){var c;e._RF.push({},"cb8bcNauX9HyK/t99VqpAb9","SetWidth",void 0);var s=n.ccclass;n.property,t("SetWidth",s("SetWidth")(c=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.onLoad=function(){this.node.getComponent(o).width=screen.width},n.start=function(){},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/hawkMove.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(e){"use strict";var t,i,n,o,s,a,l,r,c,h,d,u,g,f,p,y;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.CCFloat,o=e.Node,s=e.Graphics,a=e.tween,l=e.Component},function(e){r=e.LIGHT,c=e.ACTION},function(e){h=e.applyDecoratedDescriptor,d=e.inheritsLoose,u=e.initializerDefineProperty,g=e.assertThisInitialized,f=e.defineProperty},function(e){p=e.gameManager},function(e){y=e.nodeHeight}],execute:function(){var N,w,v,L,k,R,H,M,b,m,C;t._RF.push({},"db075a+0KRBA7s1QIddMI+G","hawkMove",void 0);var G=i.ccclass,P=i.property;e("HawkMove",(N=G("HawkMove"),w=P({type:n}),v=P({type:n}),L=P({type:o}),k=P({type:o}),N((M=h((H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,u(g(t),"LightRangeMin",M,g(t)),u(g(t),"LightRangeMax",b,g(t)),u(g(t),"visionNode",m,g(t)),u(g(t),"HawkNode",C,g(t)),f(g(t),"snailNode",null),f(g(t),"schedulerControl",!0),t}d(t,e);var i=t.prototype;return i.start=function(){this.setLight(r.Green)},i.createRect=function(){var e=this.visionNode.getComponent(s);e.lineWidth=10,e.moveTo(-200,0),e.lineTo(-290,740),e.lineTo(-380,0),e.close()},i.startSceduler=function(){if(p.getInstance().getGamePlayActive()){p.getInstance().setLightStatus(r.Green),this.setLight(r.Green);var e=Math.floor(Math.random()*(this.LightRangeMax-this.LightRangeMin+1)+this.LightRangeMin);this.schedule(this.stopLight,e)}},i.stopLight=function(){var e=this;this.unschedule(this.stopLight),p.getInstance().getGamePlayActive()&&a(this.node).delay(.2).call((function(){e.setLight(r.Red)})).delay(.1).call((function(){e.setLight(r.Green)})).delay(.2).call((function(){e.setLight(r.Red)})).delay(.1).call((function(){e.setLight(r.Green)})).delay(.2).call((function(){e.setLight(r.Red)})).delay(.1).call((function(){e.setLight(r.Green)})).delay(.1).call((function(){e.setLight(r.Red),p.getInstance().setLightStatus(r.Red)})).delay(2).call((function(){e.schedulerControl=!0})).start()},i.snailPosition=function(e){this.snailNode=e,this.HawkNode.setPosition(this.snailNode.position.x,0,0)},i.setLight=function(e){var t=this.visionNode.getComponent(s);switch(e){case r.Green:t.clear(),this.createRect(),t.fillColor.set(51,165,53,80),t.fill();break;case r.Red:t.clear(),this.createRect(),t.fillColor.set(255,0,0,120),t.fill()}},i.setMoveDirection=function(e){switch(e){case c.Forward:this.HawkNode.setPosition(32.132,this.HawkNode.position.y,1),this.HawkNode.setScale(-.5,.5,1);break;case c.Backward:this.HawkNode.setPosition(160,this.HawkNode.position.y,1),this.HawkNode.setScale(.5,.5,1)}},i.update=function(e){p.getInstance().getGamePlayActive()&&this.schedulerControl&&(this.schedulerControl=!1,this.startSceduler()),this.snailNode&&(this.HawkNode.setPosition(this.snailNode.position.x,y(this.node)-y(this.node)/4,1),this.HawkNode.setScale(this.snailNode.scale.x,this.snailNode.scale.y,this.snailNode.scale.z),this.visionNode.setPosition(this.HawkNode.position.x+300,this.HawkNode.position.y-800,1))},t}(l)).prototype,"LightRangeMin",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=h(H.prototype,"LightRangeMax",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),m=h(H.prototype,"visionNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=h(H.prototype,"HawkNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=H))||R));t._RF.pop()}}}));

System.register("chunks:///_virtual/SnailMove.ts",["cc","./Constants.ts","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,o,r,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Component},function(t){r=t.ACTION},function(t){c=t.inheritsLoose}],execute:function(){var s;e._RF.push({},"ec5a0lY2wBPqY4ry5J9Ltit","SnailMove",void 0);var i=n.ccclass;n.property,t("SnailMovement",i("SnailMovement")(s=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var n=e.prototype;return n.start=function(){},n.setMoveDirection=function(t){switch(t){case r.Forward:this.node.setScale(1,1,1);break;case r.Backward:this.node.setScale(-1,1,1)}},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/BGscript.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./gameManager.ts","./Utility.ts"],(function(e){"use strict";var t,r,n,i,o,a,s,c,u,l,p;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.Prefab,i=e.Component},function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,s=e.initializerDefineProperty,c=e.assertThisInitialized,u=e.defineProperty},function(e){l=e.gameManager},function(e){p=e.MyNode}],execute:function(){var f,g,d,h,y,b,m;t._RF.push({},"fc741F3qY9OGoDWqqG/oaSj","BGscript",void 0);var I=r.ccclass,P=r.property;e("BGscript",(f=I("BGscript"),g=P({type:n}),d=P({type:n}),f((b=o((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,s(c(t),"HudPrefab",b,c(t)),s(c(t),"gameIntroprefab",m,c(t)),u(c(t),"hudNode",null),u(c(t),"gameIntro",null),t}return a(t,e),t.prototype.start=function(){this.hudNode=new p(this.HudPrefab,this.node),this.gameIntro=new p(this.gameIntroprefab,this.node),l.getInstance().setCameraTraget(this.gameIntro.myNode.position)},t}(i)).prototype,"HudPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=o(y.prototype,"gameIntroprefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./gameManager.ts","./Utility.ts","./LightControl.ts","./Berryfall.ts","./HudLayer.ts","./progressController.ts","./rockRotation.ts","./obstacleController.ts","./gamePlay.ts","./CameraController.ts","./gameIntro.ts","./antMove.ts","./SetWidth.ts","./hawkMove.ts","./SnailMove.ts","./BGscript.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});